<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>27f9b051-91b8-4734-aa0c-6261309e815c</title><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 .s1 { color: black; font-family:Calibri, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 p { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; margin:0pt; }
 h1 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 li {display: block; }
 #l1 {padding-left: 0pt;counter-reset: c1 1; }
 #l1> li>*:first-child:before {counter-increment: c1; content: counter(c1, decimal)". "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l1> li:first-child>*:first-child:before {counter-increment: c1 0;  }
 #l2 {padding-left: 0pt; }
 #l2> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l3 {padding-left: 0pt; }
 #l3> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l4 {padding-left: 0pt; }
 #l4> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l5 {padding-left: 0pt; }
 #l5> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l6 {padding-left: 0pt; }
 #l6> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
</style></head><body><p class="s1" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Take a look if you want to upgrade your Amazon Lex Version 1 to Version 2.</p><p style="padding-top: 14pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Conversational interfaces, often referred to as chatbots or virtual assistants, are software applications created to mimic human conversation. They employ natural language processing (NLP) and artificial intelligence (AI) methods to comprehend and reply to user interactions in a manner resembling human communication.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">One of the services that allows for developers and business users to create conversational interfaces in AWS is Amazon Lex. Amazon Lex is a service for building conversational interfaces using voice and text.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">In January 2021, AWS released a new version of Lex with a number of features aimed at simplifying the build for developers and providing a simplified information architecture by allowing for bots to be versioned as one entity.</p><p style="padding-top: 14pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">The migration from V1 to V2 comes with a number of benefits but in my opinion, it also allows for a lift, tinker and shift migration opportunity. While migrating to the new version, you can adopt leading practices within your bots, enabling you to improve the accuracy of your bots once in V2.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Recently, I was able to work on a few projects involving a Lex V1 to V2 migration; which helped me to outline an approach along with key considerations to keep in mind while conducting the V1 to V2 migration.</p><ol id="l1"><li data-list-text="1."><h1 style="padding-left: 40pt;text-indent: -17pt;line-height: 15pt;text-align: left;">Conduct an assessment of Lex V1 bots</h1><ul id="l2"><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">Review existing bot design and bot performance metrics to understand the current experience offered in Amazon Lex</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">The outcome of this is to identify the gaps in the current design against AWS leading practices. Some of the measures we took was to look at the missed utterances in V1 logs to understand the gaps in the design that were causing the missed utterances. For example a common design gap is not having enough diversity in data when it comes to utterance length, phrasing, punctuation, vocabulary and slot usage</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">The identified gaps creates a roadmap for leading practices to adopt while conducting the migration activities</p></li></ul></li><li data-list-text="2."><h1 style="padding-left: 17pt;text-indent: -12pt;line-height: 15pt;text-align: left;">Conduct Migration Activities in a Lower Environment</h1><ul id="l3"><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">Utilize AWS V1 to V2 migration guide to migrate bots from V1 to V2 by adopting AWS best practices in a lower environment</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">Conducting the migration activities in a lower environment allows you to test any newly adopted design while also ensuring the migration was successful</p></li></ul></li><li data-list-text="3."><h1 style="padding-left: 17pt;text-indent: -12pt;line-height: 15pt;text-align: left;">Watch out for integration with Amazon Connect or other 3rd party services</h1><ul id="l4"><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">Ensure the build or migration of Lex bots has the ability to integrate back with Amazon Connect or other 3rd party services</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">A big lesson learned for us while consolidating the different lambda functions into a single lambda function to support V2 changes; is to keep in mind that the outputs the outputs of the Lambda function go back into the Amazon Connect call flows so we had to ensure we’re passing the outputs in the same format as the original V1 bots</p></li></ul></li><li data-list-text="4."><h1 style="padding-top: 3pt;padding-left: 17pt;text-indent: -12pt;text-align: left;">Utilize automated deployment using CI/CD pipelines</h1><ul id="l5"><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">Enabling the migration in a lower environment allows the developers to get acclimated to the new features</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">To get the bots to higher environments, designing a DevOps strategy to automate the deployment across AWS accounts is critical</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">If you’re using AWS CDK, one of the core differences between V1 and V2, is that V1 allows you to store your bot configurations in Github</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">In CDK V2, you store your bot configurations in S3. You need to build and design CI/CD pipelines to interact with JSON configurations in S3</p></li></ul></li><li data-list-text="5."><h1 style="padding-left: 17pt;text-indent: -12pt;line-height: 15pt;text-align: left;">Adopt new features in Amazon Lex 2 for testing and validation</h1><ul id="l6"><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">AWS has two new features in this category which are different than the offerings in Lex V1</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">So far, we’ve seen development teams conduct manual testing activities for testing Lex V1 bots. Testing workbench in V2 allowed us to generate audio and text-based test sets from user interactions, saving time and manual effort. It also allowed to execute tests in just a few clicks</p></li><li data-list-text=""><p style="padding-left: 41pt;text-indent: -18pt;text-align: left;">In V1, monitoring for Lex V1 bots involved writing complex queries in CloudWatch insights to get insight into data. With Lex V2, the overview dashboard provides a single snapshot of key metrics such as the total number of conversations and intent recognition rates. You can drill-down from this overview to see more granular metrics. This drastically reduces the time dev teams spend on monitoring the intent and bot performance, allowing them to tweak the bot configurations regularly to drive the best customer experience</p></li></ul></li></ol><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">In this blog post, I’ve reviewed an approach and lessons learned while migrating from Lex V1 to Lex V2 bots. These lessons are personal to my experiences and would love to hear from your experiences in the comments.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Thanks for reading! Catch you in another blog.</p></body></html>
